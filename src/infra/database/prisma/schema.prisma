// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model Skills {
  Id           String      @id @default(uuid())
  Title        String      @unique
  RankPercent  Float       @default(value: 0)
  AboutPage_Id  String
  About        AboutPage   @relation(fields: [AboutPage_Id], references: [Id])
  SkillsPage   SkillsPage? @relation(fields: [SkillsPage_Id], references: [Id])
  SkillsPage_Id String?

  @@index([SkillsPage_Id])
}

model AboutPage {
  Id          String   @id @default(uuid())
  Title       String?
  Description String
  Skills      Skills[]
}

model LastJobs {
  Id             String      @id @default(uuid())
  YearMonthStart String
  YearMonthEnd   String?
  JobTitle       String
  JobDescription String
  SkillsPage     SkillsPage? @relation(fields: [SkillsPage_Id], references: [Id])
  SkillsPage_Id   String?

  @@index([SkillsPage_Id])
}

model SkillsPage {
  Id          String     @id @default(uuid())
  Title       String
  Description String
  Skills      Skills[]
  Jobs        LastJobs[]
}

model Localization {
  Id            String        @id @default(uuid())
  Latitude      Float
  Longitude     Float
  ContactPageId String?
  ContactPage   ContactPage[]

  @@index([ContactPageId])
}

model ContactPage {
  Id             String        @id @default(uuid())
  Title          String
  Description    String
  Localization   Localization? @relation(fields: [Localization_Id], references: [Id])
  Localization_Id String

  @@index([Localization_Id])
}

model Cards {
  Id             String        @id @default(uuid())
  Title          String
  SubTitle       String?
  Content        String
  ProjectsPage   ProjectsPage? @relation(fields: [ProjectsPage_Id], references: [Id])
  ProjectsPage_Id String?

  @@index([ProjectsPage_Id])
}

model ProjectsPage {
  Id          String  @id @default(uuid())
  Snapshot    String
  Description Cards[]
  GithubLink  String?
}

model User {
  Id       String @id @default(uuid())
  Name     String
  Username String @unique
  Password String
}
