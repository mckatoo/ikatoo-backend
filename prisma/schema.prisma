// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model Skill {
  name         String      @unique
  rankPercent  Float       @default(value: 0)
  aboutPageId  String
  about        AboutPage   @relation(fields: [aboutPageId], references: [id])
  SkillsPage   SkillsPage? @relation(fields: [skillsPageId], references: [id])
  skillsPageId String?
}

model AboutPage {
  id          String  @id @default(uuid())
  title       String?
  description String
  image       Json?
  skills      Skill[]
}

model Job {
  id             String      @id @default(uuid())
  yearMonthStart String
  yearMonthEnd   String?
  jobTitle       String
  jobDescription String
  SkillsPage     SkillsPage? @relation(fields: [skillsPageId], references: [id])
  skillsPageId   String?
}

model SkillsPage {
  id          String  @id @default(uuid())
  title       String
  description String
  skills      Skill[]
  jobs        Job[]
}

model Localization {
  id            String        @id @default(uuid())
  latitude      Float
  longitude     Float
  contactPageId String?
  ContactPage   ContactPage[]
}

model ContactPage {
  id             String        @id @default(uuid())
  title          String
  description    String
  localization   Localization? @relation(fields: [localizationId], references: [id])
  localizationId String
}

model Cards {
  id             String        @id @default(uuid())
  title          String
  subTitle       String?
  content        String
  ProjectsPage   ProjectsPage? @relation(fields: [projectsPageId], references: [id])
  projectsPageId String?
}

model ProjectsPage {
  id          String  @id @default(uuid())
  snapshot    String
  description Cards[]
  githubLink  String?
}
